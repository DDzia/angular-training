<app-page>
  <app-page-breadcrumb *ngFor="let b of (breadcrumbs ? breadcrumbs : [])" [item]="b"></app-page-breadcrumb>
  <div class="course-page">
    <div class="spinners" *ngIf="process">
      <app-spinner *ngIf="!(course$ | async)" [subtext]="'Loading course...'"></app-spinner>
      <app-spinner *ngIf="process" [subtext]="'Saving...'"></app-spinner>
    </div>

    <form class="form" [formGroup]="fm" (ngSubmit)="saveChanges()">
      <div class="control-group">
        <label>Title</label>
        <div class="control">
          <input type="text" name="title" formControlName="title">
        </div>
      </div>
      <div class="control-group">
        <label>Description</label>
        <div class="control">
          <textarea name="description" formControlName="description"></textarea>
        </div>
      </div>
      <div class="control-group">
        <label>Date</label>
        <div class="control">
          <app-custom-date formControlName="creationDate"></app-custom-date>
        </div>
      </div>
      <div class="control-group">
        <label>Duration</label>
        <div class="control">
          <input type="number" name="durationMin" formControlName="durationMin">
          <span class="duration-formatteable">{{fm.controls.durationMin.value | duration}}</span>
        </div>
      </div>
      <div class="buttons-group">
        <button type="submit" [disabled]="!fm.valid">Save</button>
        <button type="button" (click)="goToList()">Cancel</button>
      </div>
    </form>
  </div>
</app-page>
